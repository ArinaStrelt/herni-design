[gd_scene load_steps=10 format=3 uid="uid://d1kvyjfdw0e3e"]

[ext_resource type="PackedScene" uid="uid://cqixlr02b2nl7" path="res://levels/hrad_2/hrad_2.glb" id="1_hwuwg"]
[ext_resource type="PackedScene" uid="uid://dc4jc2sdqocqg" path="res://VFX/fire/Fire.tscn" id="2_426s5"]
[ext_resource type="PackedScene" uid="uid://dt45p04n7o85i" path="res://scenes/exit_zone.tscn" id="5_pua7d"]
[ext_resource type="PackedScene" uid="uid://8np8ds706ft2" path="res://levels/entrance_model/doors.glb" id="6_tx34c"]
[ext_resource type="Script" uid="uid://bs0jpfy1oclj3" path="res://scripts/doors.gd" id="7_ouefy"]
[ext_resource type="PackedScene" uid="uid://dfs76jfbgmbjp" path="res://scenes/seller/seller.tscn" id="7_tx34c"]
[ext_resource type="PackedScene" uid="uid://dn2cll1sjuaap" path="res://scenes/enemy_monster/enemy_monster.tscn" id="9_k7fv6"]

[sub_resource type="Environment" id="Environment_426s5"]
background_mode = 2
sky_custom_fov = 7.0
ambient_light_color = Color(0.151481, 0.291334, 0.368809, 1)
ambient_light_sky_contribution = 0.76
ambient_light_energy = 1.72
tonemap_mode = 2
glow_enabled = true
fog_light_color = Color(0.513974, 0.561287, 0.563139, 1)
fog_light_energy = 0.02
fog_density = 0.0
fog_height = 0.25
volumetric_fog_enabled = true
volumetric_fog_density = 0.0791
volumetric_fog_emission_energy = 17.25
volumetric_fog_gi_inject = 1.58

[sub_resource type="CylinderShape3D" id="CylinderShape3D_k7fv6"]
radius = 1.83252

[node name="Node3D" type="Node3D"]

[node name="hrad_2" parent="." instance=ExtResource("1_hwuwg")]

[node name="Fire" parent="hrad_2" instance=ExtResource("2_426s5")]
transform = Transform3D(0.880571, -0.183152, 0.437091, 0.169554, 0.983009, 0.070317, -0.442543, 0.0121916, 0.896664, 3.73982, 1.16708, -8.80877)

[node name="Fire2" parent="hrad_2" instance=ExtResource("2_426s5")]
transform = Transform3D(-0.916964, 0.144729, -0.371794, 0.119927, 0.988774, 0.089124, 0.380519, 0.0371351, -0.924027, 0.353047, 1.14957, -8.14013)

[node name="OmniLight3D3" type="OmniLight3D" parent="hrad_2"]
transform = Transform3D(0.846043, -0.25756, 0.46677, 0.164419, 0.958933, 0.231115, -0.507127, -0.118788, 0.853646, -6.66685, 2.24714, -6.01952)
light_color = Color(0.729412, 0.521569, 0.380392, 1)
light_energy = 1.074
light_indirect_energy = 0.16
light_volumetric_fog_energy = 0.789
light_size = 0.28
light_specular = 0.885
omni_range = 3.586
omni_attenuation = 1.877

[node name="OmniLight3D4" type="OmniLight3D" parent="hrad_2"]
transform = Transform3D(0.846043, -0.233323, 0.479345, 0.150891, 0.967177, 0.204453, -0.511315, -0.100647, 0.853479, -6.59686, 2.28477, -0.0644289)
light_color = Color(0.729412, 0.521569, 0.380392, 1)
light_energy = 1.074
light_indirect_energy = 0.16
light_volumetric_fog_energy = 0.789
light_size = 0.28
omni_range = 3.586
omni_attenuation = 1.877

[node name="OmniLight3D2" type="OmniLight3D" parent="hrad_2"]
transform = Transform3D(0.846043, -0.183076, 0.500694, 0.164419, 0.983009, 0.0816062, -0.507127, 0.0132812, 0.861769, -6.63208, 2.22807, 3.0464)
light_color = Color(0.729412, 0.521569, 0.380392, 1)
light_energy = 1.074
light_indirect_energy = 0.16
light_volumetric_fog_energy = 0.789
light_size = 0.28
omni_range = 3.586
omni_attenuation = 1.877

[node name="OmniLight3D5" type="OmniLight3D" parent="hrad_2"]
transform = Transform3D(0.846043, -0.208473, 0.490663, 0.164419, 0.977541, 0.131832, -0.507127, -0.0308614, 0.861319, -6.63946, 2.2456, -3.00582)
light_color = Color(0.729412, 0.521569, 0.380392, 1)
light_energy = 1.074
light_indirect_energy = 0.16
light_volumetric_fog_energy = 0.789
light_size = 0.28
omni_range = 3.586
omni_attenuation = 1.877

[node name="OmniLight3D6" type="OmniLight3D" parent="hrad_2"]
transform = Transform3D(0.436729, -0.520337, 0.733837, 0.179567, 0.849751, 0.495661, -0.881489, -0.0846962, 0.464546, -4.9371, 0.420905, -8.62032)
light_color = Color(0.729412, 0.521569, 0.380392, 1)
light_energy = 0.259
light_indirect_energy = 0.771
light_volumetric_fog_energy = 1.389
light_size = 0.006
light_specular = 4.169
omni_range = 3.586
omni_attenuation = 1.877

[node name="OmniLight3D7" type="OmniLight3D" parent="hrad_2"]
transform = Transform3D(0.431772, -0.328206, 0.840151, 0.259346, 0.93729, 0.232869, -0.863894, 0.117344, 0.489814, -6.7309, 2.18182, 5.87073)
light_color = Color(0.729412, 0.521569, 0.380392, 1)
light_energy = 1.074
light_indirect_energy = 0.16
light_volumetric_fog_energy = 0.789
light_size = 0.28
omni_range = 3.586
omni_attenuation = 1.877

[node name="Fire3" parent="hrad_2" instance=ExtResource("2_426s5")]
transform = Transform3D(-0.392241, 0.12625, -0.91116, 0.065963, 0.991847, 0.109034, 0.917497, -0.0173354, -0.39737, -4.22291, 2.12254, 4.50888)

[node name="OmniLight3D8" type="OmniLight3D" parent="hrad_2"]
transform = Transform3D(-0.549573, -0.731556, 0.403478, -0.205911, 0.58666, 0.783218, -0.809673, 0.347355, -0.473048, -6.3762, 0.706657, -9.58336)
light_color = Color(0.729412, 0.521569, 0.380392, 1)
light_energy = 0.259
light_indirect_energy = 0.771
light_volumetric_fog_energy = 1.389
light_size = 0.006
light_specular = 4.169
omni_range = 3.586
omni_attenuation = 1.877

[node name="Fire4" parent="hrad_2" instance=ExtResource("2_426s5")]
transform = Transform3D(0.716706, -0.00341364, 0.697369, 0.0425254, 0.998341, -0.0388177, -0.696079, 0.0574766, 0.715661, 5.03133, 2.12527, -3.5456)

[node name="OmniLight3D9" type="OmniLight3D" parent="hrad_2"]
transform = Transform3D(0.436729, -0.520337, 0.733837, 0.179567, 0.849751, 0.495661, -0.881489, -0.0846962, 0.464546, -2.57265, 2.28277, -8.95763)
light_color = Color(0.729412, 0.521569, 0.380392, 1)
light_energy = 1.074
light_indirect_energy = 0.16
light_volumetric_fog_energy = 0.789
light_size = 0.28
light_specular = 0.885
omni_range = 3.586
omni_attenuation = 1.877

[node name="OmniLight3D10" type="OmniLight3D" parent="hrad_2"]
transform = Transform3D(-0.0882103, -0.698623, 0.710032, 0.040274, 0.709726, 0.703326, -0.995287, 0.0906364, -0.0344688, 6.90191, 2.31105, -8.9913)
light_color = Color(0.729412, 0.521569, 0.380392, 1)
light_energy = 1.074
light_indirect_energy = 0.16
light_volumetric_fog_energy = 0.789
light_size = 0.28
light_specular = 0.885
omni_range = 3.586
omni_attenuation = 1.877

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_426s5")

[node name="exit_zone" parent="." instance=ExtResource("5_pua7d")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.545617, 0.479679, -11.5292)
next_level_path = "res://levels/boss_level/boss_level.tscn"

[node name="enemy_monster" parent="." instance=ExtResource("9_k7fv6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.97686, -0.043232, -8.06615)
speed_patrol = 2

[node name="enemy_monster2" parent="." instance=ExtResource("9_k7fv6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.64787, -0.0414467, -7.61365)

[node name="Seller" parent="." instance=ExtResource("7_tx34c")]
transform = Transform3D(0.258261, 0, 0.20543, 0, 0.33, 0, -0.20543, 0, 0.258261, -5.05542, -0.069, -9.152)

[node name="Camera3D2" type="Camera3D" parent="."]
transform = Transform3D(0.707107, -0.5, 0.5, 0, 0.707107, 0.707107, -0.707107, -0.5, 0.5, 11.003, 16.517, 8.548)
projection = 1
current = true
size = 14.371
near = 0.015
far = 1319.93

[node name="DirectionalLight3D2" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.80747, -0.554132, -0.202311, -0.32576, -0.13294, -0.93606, 0.491805, 0.821745, -0.287859, 22.585, 11.468, -6.274)
light_color = Color(0.748635, 0.812688, 0.875873, 1)
light_energy = 2.529
light_indirect_energy = 0.0
light_volumetric_fog_energy = 0.01
light_angular_distance = 9.92
light_specular = 0.0
shadow_enabled = true
shadow_opacity = 0.25
shadow_blur = 6.925

[node name="DirectionalLight3D3" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.7295, -0.49716, 0.469746, -0.226407, 0.472548, 0.851727, -0.645422, -0.727688, 0.232163, 4.504, 20.795, -3.477)
light_color = Color(0.348432, 0.444592, 0.556251, 1)
light_energy = 3.948
light_indirect_energy = 3.039
light_volumetric_fog_energy = 0.0
light_specular = 0.0
shadow_enabled = true
shadow_normal_bias = 3.409
shadow_opacity = 0.62
shadow_blur = 4.446

[node name="DirectionalLight3D4" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.458132, 0.362824, -0.811464, -0.876688, -0.0337286, 0.479875, 0.146741, 0.931247, 0.333535, -10.1385, 5.7299, -4.02098)
light_color = Color(0.572877, 0.753923, 0.949828, 1)
light_energy = 11.765
light_indirect_energy = 5.16
light_volumetric_fog_energy = 0.0
light_angular_distance = 7.93
light_specular = 0.158
shadow_enabled = true
shadow_bias = 0.83
shadow_normal_bias = 7.731
shadow_transmittance_bias = -16.0
shadow_blur = 0.783
directional_shadow_split_2 = 0.0
directional_shadow_split_3 = 0.385
directional_shadow_fade_start = 0.435
directional_shadow_max_distance = 107.0
directional_shadow_pancake_size = 4.1

[node name="SpotLight3D" type="SpotLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.0153758, 0.999882, 0, -0.999882, 0.0153758, -5.65582, 4.96124, -9.1021)
light_color = Color(0.782112, 0.658105, 0.399639, 1)
light_energy = 9.968
light_indirect_energy = 0.898
light_volumetric_fog_energy = 1.07
light_size = 0.057
spot_range = 7.79947
spot_angle = 35.1739

[node name="doors" parent="." instance=ExtResource("6_tx34c")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.92069, 0.0198642, 1.38808)
script = ExtResource("7_ouefy")

[node name="Area3D" type="Area3D" parent="doors"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="doors/Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -10.7387)
shape = SubResource("CylinderShape3D_k7fv6")

[connection signal="body_entered" from="doors/Area3D" to="doors" method="_on_player_enter"]
[connection signal="body_exited" from="doors/Area3D" to="doors" method="_on_player_leave"]
